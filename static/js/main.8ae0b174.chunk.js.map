{"version":3,"sources":["services/fetchAPI.js","services/scrollTo.js","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["fetchPictures","name","page","fetch","then","response","ok","json","Promise","reject","Error","tags","scrollTo","window","top","document","documentElement","scrollHeight","behavior","Container","Form","SearchButton","Input","Searchbar","onSubmit","e","preventDefault","target","elements","query","value","autoComplete","type","autoFocus","placeholder","Gallery","GalleryItem","ImageGalleryItem","webformatURL","onClick","img","src","alt","ImageGallery","images","map","id","Btn","Button","text","ContentContainer","Backdrop","Modal","addEventListener","this","props","onKeyDown","removeEventListener","currImg","largeImageURL","Component","Wrapper","Loader","color","height","width","STATUS","ErrorMsg","App","useState","setImages","status","setStatus","setQuery","setPage","setCurrImg","useEffect","res","hits","length","catch","prev","closeModal","shouldShowBtn","p","nodeName","code","ReactDOM","render","StrictMode","getElementById"],"mappings":"kPAAO,SAASA,EAAcC,EAAMC,GAGlC,OAAOC,MAAM,GAAD,OADK,0BACL,iBAFI,qCAEJ,cACuBF,EADvB,mDACsEC,IAChFE,MAAK,SAAAC,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAJ,4IAAsCT,EAAKU,WCT9D,SAASC,IACdC,OAAOD,SAAS,CACdE,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WCDP,IAAMC,EAAS,0ZAmBTC,EAAI,sLAUJC,EAAY,oYAkBZC,EAAK,yO,OC/CLC,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAK1B,OACE,cAACL,EAAD,UACE,eAACC,EAAD,CAAMI,SANV,SAAsBC,GACpBA,EAAEC,iBACFF,EAASC,EAAEE,OAAOC,SAASC,MAAMC,QAIDC,aAAa,MAA3C,UACE,cAACT,EAAD,CACEU,KAAK,OACL/B,KAAK,QACLgC,WAAS,EACTC,YAAY,6BACX,IACH,cAACb,EAAD,CAAcW,KAAK,iBCdpB,IAAMG,EAAO,gRCAb,IAAMC,EAAW,qWCAXC,EAAmB,SAAC,GAK1B,IAAD,IAJJC,oBAII,MAJW,sDAIX,MAHJ3B,YAGI,MAHG,kBAGH,EAFJ4B,EAEI,EAFJA,QACAC,EACI,EADJA,IAEA,OACE,cAACJ,EAAD,CAAaG,QAAS,kBAAMA,EAAQC,IAApC,SACE,qBAAKC,IAAKH,EAAcI,IAAK/B,OCPtBgC,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQL,EAAX,EAAWA,QAAX,OAC1B,cAACJ,EAAD,UACGS,EAAOC,KAAI,SAAAL,GAAG,OACb,cAAC,EAAD,CAEEF,aAAcE,EAAIF,aAClB3B,KAAM6B,EAAI7B,KACV4B,QAASA,EACTC,IAAKA,GAJAA,EAAIM,UCLV,IAAMC,EAAG,iiBCAHC,EAAS,SAAC,GAAD,IAAGhB,EAAH,EAAGA,KAAMiB,EAAT,EAASA,KAAMV,EAAf,EAAeA,QAAf,OACpB,cAACQ,EAAD,CAAKR,QAASA,EAASP,KAAMA,EAA7B,SACGiB,K,gCCFE,IAAMC,EAAgB,6HAKhBC,EAAQ,+NCJRC,EAAb,uKACE,WACEvC,OAAOwC,iBAAiB,UAAWC,KAAKC,MAAMC,aAFlD,kCAKE,WACE3C,OAAO4C,oBAAoB,UAAWH,KAAKC,MAAMC,aANrD,oBAQE,WACE,MAAgCF,KAAKC,MAAMG,QAAnCC,EAAR,EAAQA,cAAehD,EAAvB,EAAuBA,KACvB,OACE,cAACwC,EAAD,CAAUZ,QAASe,KAAKC,MAAMhB,QAA9B,SACE,cAACW,EAAD,UACE,qBAAKT,IAAKkB,EAAejB,IAAK/B,YAbxC,GAA2BiD,a,iBCDpB,IAAMC,EAAO,+JCCPC,EAAS,WACpB,OACE,cAACD,EAAD,UACE,cAAC,IAAD,CAAQ7B,KAAK,YAAY+B,MAAM,UAAUC,OAAQ,GAAIC,MAAO,QCIlE,IAAMC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGNC,EAAQ,4GAMRN,EAAO,0IAOE,SAASO,IACtB,MAA4BC,mBAAS,IAArC,mBAAOzB,EAAP,KAAe0B,EAAf,KACA,EAA4BD,mBAASH,GAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA0BH,mBAAS,IAAnC,mBAAOxC,EAAP,KAAc4C,EAAd,KACA,EAAwBJ,mBAAS,GAAjC,mBAAOnE,EAAP,KAAawE,EAAb,KACA,EAA8BL,mBAAS,MAAvC,mBAAOX,EAAP,KAAgBiB,EAAhB,KAEAC,qBAAU,WACM,KAAV/C,IACF6C,EAAQ,GACRF,EAAUN,GAEVlE,EAAc6B,EAAO3B,GAClBE,MAAK,SAAAyE,GACJ,GAAwB,IAApBA,EAAIC,KAAKC,OACX,MAAM,IAAIrE,MAAM,oNAGlB4D,EAAUO,EAAIC,MACdN,EAAUN,MAEXc,OAAM,WACLV,EAAU,IACVI,EAAQ,GACRC,EAAW,MACXH,EAAUN,SAGf,CAACrC,IAEJ+C,qBAAU,WACK,IAAT1E,IACFsE,EAAUN,GAEVlE,EAAc6B,EAAO3B,GAClBE,MAAK,SAAAyE,GACJP,GAAU,SAAAW,GAAI,4BAAQA,GAAR,YAAiBJ,EAAIC,UACnCN,EAAUN,MAEX9D,KAAKQ,GACLoE,OAAM,kBAAMR,EAAUN,SAE1B,CAAChE,IAEJ,IAIMgF,EAAa,WACjBP,EAAW,OAePQ,EACJZ,IAAWL,GAA6B,KAAVrC,GAAgBe,EAAOmC,QAAU,GAEjE,OACE,eAAC,EAAD,WACE,cAAC,EAAD,CAAWvD,SAAUiD,IACpBF,IAAWL,EACV,cAACC,EAAD,UACE,6NAGF,cAAC,EAAD,CAAcvB,OAAQA,EAAQL,QAASoC,IAExCJ,IAAWL,EACV,cAAC,EAAD,IAEAiB,GACE,cAAC,EAAD,CAAQnD,KAAK,SAASiB,KAAK,YAAYV,QArCxB,WACrBmC,GAAQ,SAAAU,GAAC,OAAIA,EAAI,QAuCd1B,GACC,cAAC,EAAD,CACEA,QAASA,EACTnB,QAnCsB,SAAAd,GACF,QAAtBA,EAAEE,OAAO0D,UACXH,KAkCI1B,UA9BoB,SAAA/B,GACX,WAAXA,EAAE6D,MACJJ,UCrFNK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACrB,EAAD,MAEFrD,SAAS2E,eAAe,W","file":"static/js/main.8ae0b174.chunk.js","sourcesContent":["export function fetchPictures(name, page) {\r\n  const API_KEY = '21813643-16e9f0b30c26c932714b1b168';\r\n  const BASE_URL = 'https://pixabay.com/api';\r\n  return fetch(\r\n    `${BASE_URL}/?key=${API_KEY}&q=${name}&image_type=photo&page&per_page=12&page=${page}`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Нет изображения с именем ${name.tags}`));\r\n  });\r\n}\r\n","export function scrollTo() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Container = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import { Container, Form, Input, SearchButton } from './Searchbar.styled';\r\n\r\nexport const Searchbar = ({ onSubmit }) => {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit(e.target.elements.query.value);\r\n  }\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n        <Input\r\n          type=\"text\"\r\n          name=\"query\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />{' '}\r\n        <SearchButton type=\"submit\" />\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Gallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const GalleryItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n  & img {\r\n    width: 100%;\r\n    height: 260px;\r\n    object-fit: cover;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n  & img:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { GalleryItem } from './ImageGalleryItem.styled';\r\n\r\nexport const ImageGalleryItem = ({\r\n  webformatURL = 'https://pixabay.com/en/blossom-bloom-flower-195893/',\r\n  tags = 'Awesome picture',\r\n  onClick,\r\n  img,\r\n}) => {\r\n  return (\r\n    <GalleryItem onClick={() => onClick(img)}>\r\n      <img src={webformatURL} alt={tags} />\r\n    </GalleryItem>\r\n  );\r\n};\r\n","import { Gallery } from './ImageGallery.styled';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport const ImageGallery = ({ images, onClick }) => (\r\n  <Gallery>\r\n    {images.map(img => (\r\n      <ImageGalleryItem\r\n        key={img.id}\r\n        webformatURL={img.webformatURL}\r\n        tags={img.tags}\r\n        onClick={onClick}\r\n        img={img}\r\n      />\r\n    ))}\r\n  </Gallery>\r\n);\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Btn = styled.button`\r\n  display: block;\r\n  margin: 0 auto;\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  /* display: inline-block; */\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { Btn } from './Button.styled';\r\n\r\nexport const Button = ({ type, text, onClick }) => (\r\n  <Btn onClick={onClick} type={type}>\r\n    {text}\r\n  </Btn>\r\n);\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const ContentContainer = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n\r\nexport const Backdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n","import { Component } from 'react';\r\nimport { ContentContainer, Backdrop } from './Modal.styled';\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.props.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.props.onKeyDown);\r\n  }\r\n  render() {\r\n    const { largeImageURL, tags } = this.props.currImg;\r\n    return (\r\n      <Backdrop onClick={this.props.onClick}>\r\n        <ContentContainer>\r\n          <img src={largeImageURL} alt={tags} />\r\n        </ContentContainer>\r\n      </Backdrop>\r\n    );\r\n  }\r\n}\r\n","import styled from '@emotion/styled/macro';\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: calc(100vh - 80px);\r\n`;\r\n","import Spiner from 'react-loader-spinner';\r\nimport { Wrapper } from './Loader.styled';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Spiner type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </Wrapper>\r\n  );\r\n};\r\n","import styled from '@emotion/styled/macro';\nimport { useEffect, useState } from 'react';\nimport { fetchPictures } from './services/fetchAPI';\nimport { scrollTo } from './services/scrollTo';\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { Button } from './components/Button/Button';\nimport { Modal } from './components/Modal/Modal';\nimport { Loader } from './components/Loader/Loader';\n\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n};\n\nconst ErrorMsg = styled.div`\n  text-align: center;\n  color: red;\n  font-size: 34px;\n`;\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(STATUS.idle);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [currImg, setCurrImg] = useState(null);\n\n  useEffect(() => {\n    if (query !== '') {\n      setPage(1);\n      setStatus(STATUS.pending);\n\n      fetchPictures(query, page)\n        .then(res => {\n          if (res.hits.length === 0) {\n            throw new Error('Упс, по даному запиту нічого не знайдено...');\n          }\n\n          setImages(res.hits);\n          setStatus(STATUS.resolved);\n        })\n        .catch(() => {\n          setImages([]);\n          setPage(1);\n          setCurrImg(null);\n          setStatus(STATUS.rejected);\n        });\n    }\n  }, [query]);\n\n  useEffect(() => {\n    if (page !== 1) {\n      setStatus(STATUS.pending);\n\n      fetchPictures(query, page)\n        .then(res => {\n          setImages(prev => [...prev, ...res.hits]);\n          setStatus(STATUS.resolved);\n        })\n        .then(scrollTo)\n        .catch(() => setStatus(STATUS.resolved));\n    }\n  }, [page]);\n\n  const handleLoadMore = () => {\n    setPage(p => p + 1);\n  };\n\n  const closeModal = () => {\n    setCurrImg(null);\n  };\n\n  const handleModalMouseClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      closeModal();\n    }\n  };\n\n  const handleModalEscClick = e => {\n    if (e.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const shouldShowBtn =\n    status !== STATUS.rejected && query !== '' && images.length >= 12;\n\n  return (\n    <Wrapper>\n      <Searchbar onSubmit={setQuery} />\n      {status === STATUS.rejected ? (\n        <ErrorMsg>\n          <h2>По даному запиту нічого не знайдено</h2>\n        </ErrorMsg>\n      ) : (\n        <ImageGallery images={images} onClick={setCurrImg} />\n      )}\n      {status === STATUS.pending ? (\n        <Loader />\n      ) : (\n        shouldShowBtn && (\n          <Button type=\"button\" text=\"Load More\" onClick={handleLoadMore} />\n        )\n      )}\n      {currImg && (\n        <Modal\n          currImg={currImg}\n          onClick={handleModalMouseClick}\n          onKeyDown={handleModalEscClick}\n        />\n      )}\n    </Wrapper>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}